* {
  box-sizing: border-box;
}

:root {
  /* Belle idée 風 洗練カラーパレット */
  --color-bg: #F5F3EF;              /* 温かみのある背景 */
  --color-bg-card: #FFFFFF;         /* 純白カード */
  --color-bg-secondary: #F5F5F5;    /* 薄いグレー背景 */
  --color-border: #E8E8E8;          /* 繊細なボーダー */
  --color-border-light: #F0F0F0;    /* より薄いボーダー */
  --color-text: #1A1A1A;            /* ほぼ黒のテキスト */
  --color-text-secondary: #666666;  /* セカンダリテキスト */
  --color-text-muted: #999999;      /* ミュートテキスト */

  /* メインカラー（深緑 - 高級感） */
  --color-primary: #1B4332;         /* ディープグリーン */
  --color-primary-dark: #0D2818;    /* より深い緑 */
  --color-primary-light: #2D6A4F;   /* 明るめグリーン */

  /* アクセントカラー（ゴールド系 - 高級感） */
  --color-accent: #B8860B;          /* ダークゴールド */
  --color-accent-light: #D4A94C;    /* ライトゴールド */

  /* フィードバックカラー */
  --color-success: #2D6A4F;         /* サクセスグリーン */
  --color-success-bg: #F0F7F4;      /* 薄緑背景 */
  --color-warning: #B8860B;         /* ゴールド */
  --color-warning-bg: #FDF8F0;      /* 薄いゴールド背景 */

  font-family: "Noto Sans JP", "Yu Gothic UI", "Hiragino Sans", sans-serif;
  line-height: 1.7;
  font-weight: 400;
  letter-spacing: 0.02em;
  color: var(--color-text);
  background-color: var(--color-bg);
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  min-width: 320px;
}

button {
  font-family: inherit;
  outline: none;
}

button:focus,
button:active,
div:focus,
div:active {
  outline: none;
}

select {
  font-family: inherit;
}

input {
  font-family: inherit;
}

/* スクロールバーのスタイル */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-border-light);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: #D0D0D0;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #B0B0B0;
}

/* ボタン共通スタイル */
button {
  transition: background-color 0.2s ease, opacity 0.2s ease;
}

button:hover:not(:disabled) {
  opacity: 0.85;
}

button:active:not(:disabled) {
  opacity: 0.75;
}

/* PC版で役一覧を3列に */
@media (min-width: 901px) {
  .yaku-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }
}

/* 右カラムの幅を固定 */
.right-column {
  width: 480px !important;
  min-width: 480px !important;
  max-width: 480px !important;
  flex-shrink: 0 !important;
}

/* PC版: 上部のツモ/ロン牌を非表示 */
.winning-tile-top {
  display: none !important;
}

/* レスポンシブ対応 */
@media (max-width: 900px) {
  .main-content {
    flex-direction: column !important;
    padding: 8px !important;
  }
  .right-column {
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
    overflow: visible !important;
  }
}

/* モバイル対応 */
@media (max-width: 480px) {
  .main-content {
    padding: 8px !important;
    gap: 8px !important;
  }

  /* 手牌コンテナの幅を制限 */
  .hand-container {
    width: calc(100vw - 16px) !important;
    max-width: calc(100vw - 16px) !important;
    padding: 10px !important;
  }

  /* 手牌エリア - サイズはJSで動的計算 */
  .hand-area-scroll {
    gap: 6px !important;
    flex-wrap: nowrap !important;
  }

  /* 牌グループの間隔 */
  .hand-area-scroll > div {
    gap: 2px !important;
  }

  /* 条件エリア - 大きく */
  .hand-container .condition-item {
    padding: 4px 8px !important;
    font-size: 12px !important;
  }

  /* モバイル: 上部のツモ/ロン牌を表示 */
  .winning-tile-top {
    display: flex !important;
    align-items: center !important;
    gap: 6px !important;
  }

  /* モバイル: 下部（手牌エリア内）のツモ/ロン牌を非表示 */
  .hand-area-scroll .winning-tile-area-mobile {
    display: none !important;
  }

  /* 点数表のテーブル（セルサイズ固定） */
  table {
    table-layout: fixed !important;
    width: 100% !important;
  }
  table th,
  table td {
    padding: 4px 2px !important;
    font-size: 11px !important;
  }

  /* YakuStep: コンテナ */
  .yaku-step-container {
    padding: 12px !important;
    margin-bottom: 8px !important;
  }
  .yaku-step-container h3 {
    margin-bottom: 8px !important;
    font-size: 14px !important;
  }

  /* YakuStep: 役一覧を2列に（ボタンを大きくするため） */
  .yaku-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 6px !important;
    margin-bottom: 8px !important;
  }

  /* YakuStep: 役アイテムを大きく - タップしやすく */
  .yaku-grid > div {
    padding: 10px 8px !important;
    min-height: 44px !important;
  }

  /* YakuStep: 役名を読みやすく */
  .yaku-grid .yaku-name {
    font-size: 13px !important;
  }

  /* YakuStep: ヘルプボタン（?）を非表示 */
  .yaku-help-button {
    display: none !important;
  }

  /* YakuStep: 翻数を非表示（スペース節約） */
  .yaku-han-text {
    display: none !important;
  }

  /* YakuStep: 翻数調整ボタンを大きく */
  .yaku-grid .han-adjuster {
    gap: 4px !important;
  }
  .yaku-grid .han-adjuster button {
    width: 28px !important;
    height: 28px !important;
    font-size: 14px !important;
  }
  .yaku-grid .han-adjuster span {
    font-size: 13px !important;
    min-width: 16px !important;
  }

  /* YakuStep: カテゴリタイトル */
  .yaku-category-title {
    font-size: 12px !important;
    margin-top: 8px !important;
    margin-bottom: 4px !important;
  }

  /* YakuStep: ドラセクション */
  .dora-section {
    padding: 8px 12px !important;
    margin-bottom: 8px !important;
  }
  .dora-section .dora-label {
    font-size: 13px !important;
  }
  .dora-section button {
    width: 40px !important;
    height: 36px !important;
    font-size: 18px !important;
  }
  .dora-section .dora-value {
    font-size: 16px !important;
    min-width: 32px !important;
  }

  /* YakuStep: サマリー */
  .yaku-summary {
    padding: 8px 12px !important;
    margin-bottom: 10px !important;
    font-size: 13px !important;
  }
  .yaku-summary .summary-total {
    font-size: 16px !important;
  }

  /* YakuStep: 送信ボタン - 大きくタップしやすく */
  .yaku-step-container button[type="submit"],
  .yaku-step-container > button:last-child {
    padding: 14px 20px !important;
    font-size: 15px !important;
    min-height: 48px !important;
  }

  /* FuStep: コンテナ */
  .fu-step-container {
    padding: 12px !important;
    margin-bottom: 8px !important;
  }
  .fu-step-container h3 {
    margin-bottom: 8px !important;
    font-size: 14px !important;
  }

  /* FuStep: 面子行のレイアウト調整 */
  .fu-mentsu-row {
    flex-wrap: nowrap !important;
    gap: 8px !important;
    padding: 8px 10px !important;
    margin-bottom: 6px !important;
  }

  /* FuStep: 縦向き牌のサイズ */
  .fu-mentsu-row .fu-tiles .tile-vertical {
    width: 24px !important;
    height: 32px !important;
  }
  .fu-mentsu-row .fu-tiles .tile-vertical img {
    width: 24px !important;
    height: 32px !important;
  }

  /* FuStep: 横向き牌のサイズ */
  .fu-mentsu-row .fu-tiles .tile-horizontal {
    width: 32px !important;
    height: 24px !important;
  }
  .fu-mentsu-row .fu-tiles .tile-horizontal img {
    width: 32px !important;
    height: 24px !important;
  }
  .fu-mentsu-row .fu-tiles {
    margin-right: 4px !important;
  }

  /* FuStep: 面子情報 */
  .fu-mentsu-row .fu-info {
    font-size: 12px !important;
    min-width: 40px !important;
  }

  /* FuStep: 符ボタンを大きく */
  .fu-button-group {
    display: grid !important;
    grid-template-columns: repeat(3, 36px) !important;
    grid-template-rows: repeat(2, auto) !important;
    gap: 4px !important;
    margin-left: auto !important;
  }
  .fu-button-group button {
    padding: 8px 4px !important;
    font-size: 12px !important;
    min-width: 36px !important;
    min-height: 36px !important;
  }

  /* FuStep: 和了方法ボタンを大きく */
  .fu-agari-buttons {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 6px !important;
    margin-left: auto !important;
  }
  .fu-agari-buttons button {
    padding: 8px 10px !important;
    font-size: 11px !important;
    min-width: 60px !important;
    min-height: 36px !important;
  }

  /* FuStep: サマリー */
  .fu-summary {
    padding: 8px 12px !important;
    margin-top: 8px !important;
    margin-bottom: 10px !important;
  }
  .fu-summary .summary-text {
    font-size: 12px !important;
  }
  .fu-summary .summary-total {
    font-size: 16px !important;
  }

  /* FuStep: 送信ボタン - 大きく */
  .fu-step-container > button {
    padding: 14px 20px !important;
    font-size: 15px !important;
    min-height: 48px !important;
  }

  /* ScoreStep: コンテナ */
  .score-step-container {
    padding: 12px !important;
    margin-bottom: 8px !important;
  }
  .score-step-container h3 {
    margin-bottom: 8px !important;
    font-size: 14px !important;
  }

  /* ScoreStep: 入力グループ */
  .score-input-group {
    margin-bottom: 8px !important;
    gap: 8px !important;
  }
  .score-input-group input {
    padding: 10px 12px !important;
    font-size: 16px !important;
    width: 100px !important;
  }
  .score-input-group .unit {
    font-size: 13px !important;
  }

  /* ScoreStep: 送信ボタン - 大きく */
  .score-step-container > button {
    padding: 14px 20px !important;
    font-size: 15px !important;
    min-height: 48px !important;
  }

  /* TutorialSection */
  .tutorial-container {
    margin-bottom: 12px !important;
  }
  .tutorial-tab-list button {
    padding: 12px 8px !important;
    font-size: 13px !important;
  }
  .tutorial-content {
    padding: 14px !important;
    font-size: 13px !important;
    line-height: 1.7 !important;
  }
  .tutorial-heading {
    font-size: 14px !important;
    margin-bottom: 10px !important;
  }
  .tutorial-list {
    margin: 8px 0 !important;
    padding-left: 18px !important;
  }
  .tutorial-list li {
    margin-bottom: 8px !important;
    font-size: 13px !important;
  }
  .tutorial-tile-example {
    padding: 10px 12px !important;
    margin-top: 8px !important;
  }
  .tutorial-tile-example-title {
    font-size: 12px !important;
    margin-bottom: 6px !important;
  }
  .tutorial-tiles-row {
    margin-right: 10px !important;
    margin-bottom: 6px !important;
    gap: 2px !important;
  }
  .tutorial-tiles-label {
    font-size: 11px !important;
    margin-right: 6px !important;
  }
  .tutorial-important-box {
    padding: 12px !important;
    margin-top: 10px !important;
    font-size: 13px !important;
  }
  .tutorial-sub-heading {
    font-size: 13px !important;
    margin: 14px 0 8px 0 !important;
    padding-bottom: 6px !important;
  }
  .tutorial-example-box {
    padding: 10px 12px !important;
    margin-top: 8px !important;
    font-size: 13px !important;
  }
  .tutorial-table {
    font-size: 11px !important;
    margin-top: 8px !important;
  }
  .tutorial-table th,
  .tutorial-table td {
    padding: 6px 4px !important;
    font-size: 11px !important;
  }
  /* テーブル内の牌表示が折り返されないように */
  .tutorial-table .tutorial-tiles-row {
    flex-wrap: nowrap !important;
    margin-right: 0 !important;
    margin-bottom: 0 !important;
  }
  /* テーブル内の牌サイズ */
  .tutorial-table .tile-vertical {
    width: 18px !important;
    height: 24px !important;
  }
  .tutorial-table .tile-vertical img {
    width: 18px !important;
    height: 24px !important;
  }
  .tutorial-table .tile-vertical .tile-face-down {
    width: 100% !important;
    height: 100% !important;
    border-radius: 2px !important;
    border-width: 1px !important;
  }
  .tutorial-table .tile-horizontal {
    width: 24px !important;
    height: 18px !important;
  }
  .tutorial-table .tile-horizontal img {
    width: 24px !important;
    height: 18px !important;
  }

  /* ScoreTable */
  .score-table-container {
    margin-bottom: 8px !important;
  }
  .score-table-container .header {
    padding: 8px 10px !important;
    font-size: 12px !important;
  }
  .score-table-container .content {
    padding: 6px !important;
  }
  .score-table-container .tab-list button {
    padding: 6px 4px !important;
    font-size: 11px !important;
  }
  .score-table-container table {
    table-layout: fixed !important;
    width: 100% !important;
    font-size: 11px !important;
  }
  .score-table-container th,
  .score-table-container td {
    padding: 4px 2px !important;
    font-size: 11px !important;
    height: 28px !important;
    box-sizing: border-box !important;
  }
  .score-table-container .note {
    font-size: 10px !important;
    margin-top: 4px !important;
  }

}